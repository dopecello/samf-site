---
const sponsors = [
  { src: '/BCArts.jpg', alt: '' },
  { src: '/CommFound.jpg', alt: '' },
  { src: '/DCA.jpg', alt: '' },
  { src: '/FCOpera.jpg', alt: '' },
  { src: '/Flagler.jpg', alt: '' },
  { src: '/FlorBlue.jpg', alt: '' },
  { src: '/JaxSymp.jpg', alt: '' },
  { src: '/SAAA.jpg', alt: '' },
  { src: '/SJCC.jpg', alt: '' },
  { src: '/Troemel-Arts-Foundation.png', alt: '' },
  { src: '/WJCT.jpg', alt: '' },
  { src: '/WomensX.jpg', alt: '' },
]
---

<section>
  <div class="container">
    <div class="call-to-action mb-10 items-center gap-12 rounded-xl p-12 md:p-24">
      <h2 class="text-center text-3xl uppercase md:text-5xl">FEATURED SPONSORS & DONORS</h2>
      <div class="carousel">
        <div class="carousel-images">
          {
            sponsors.map((sponsor, index) => (
              <img src={sponsor.src} alt={sponsor.alt} class={`carousel-image ${index === 0 ? 'active' : ''}`} />
            ))
          }
        </div>

        <script>
          const images = Array.from(document.querySelectorAll('.carousel-image'))
          const randomIndex = Math.floor(Math.random() * images.length)
          let currentIndex = randomIndex

          function updateCarousel() {
            images.forEach((img, index) => {
              img.style.opacity = index === currentIndex ? '1' : '0'
            })
          }

          updateCarousel()

          setInterval(() => {
            currentIndex = (currentIndex + 1) % images.length
            updateCarousel()
          }, 3000) // this will update the carousel every 3 seconds
        </script>
      </div>
    </div>

    <style>
      .carousel {
        position: relative;
        width: 100%;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .carousel-images {
        width: 300px; /* Set the width of the div */
        height: 300px; /* Set the height of the div */
        position: relative;
      }

      .carousel-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain; /* This will make the image scale and fit within the space while preserving aspect ratio */
        object-position: center; /* This will center the image within the space */
        transition: opacity 1s ease-in-out; /* CSS transition */
        opacity: 0;
      }

      .carousel-image.active {
        opacity: 1;
      }
    </style>
  </div>
</section>
